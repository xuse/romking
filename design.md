功能设计

一、信息收集与建档
1、扫描 TF卡或游戏ROM集成包的目录。扫描ROM文件，解析天马或EE等系统的配置文件，创建对应数据库。（INTANCE仓库）
 - 区分ROM文件、媒体文件等建档
 - 解析天马或EE等系统的配置文件，提取元数据
 - 如果没有元数据，则根据其他仓库已有信息补全，比如相同的MD5值等
 - 空白的数据入库后待人工更新。
 - 过滤掉一些说明文件、空白文件、BIOS文件

2、扫描ROM仓库目录，根据一些收集到的在线游戏目录，补全对应数据库（Archive仓库）
- 扫描ROM仓库目录，逻辑同上，建立Archive仓库

3、元数据补全，利用INSTANCE仓库的元数据，补全归档仓库。

二、ROM维护
1、同个仓库内重复ROM查找与合并。

2、部分ROM格式转换后统一维护，仅记录转换前格式的Md5值（也就是有记录但是，实际指向转换后的ROMFile）

3、ROM归档。将INSTANCE仓库合并到归档仓库。去除重复。如果全部归档，允许手工删除INSTANCE仓库。

4、通过界面维护元数据

三、仓库导出（制作游戏集成包、或为游戏机添加游戏）
1、仓库导出。将归档仓库中的游戏导出形成新的实例仓库（覆盖），
  - 可以选择元数据导出格式为天马或EE。
  - 根据标签和检索条件，形成ROM范围
2、仓库导出（增量），
 - 可以选择元数据导出格式为天马或EE
 - 导出时如果ROM已有则不添加。
 - 导出ROM并更新原有的元数据文件

 
 
UI
1 扫描任务   扫描录入
           任务列表
           
操作：
创建任务
取消任务（低）
点击查看任务结果详情

           
2 仓库管理   列出仓库目录清单
            点击进入ROM文件清单
            有两个TAB页，分别展示ROMfile和Media File
             
操作：
查看列表
修改信息             
标注Favorite

3、ROM归档
操作：选择一源目录和已有的归档仓库（实例仓库不能作为目标），点击开始
开始后，形成后台任务。在任务列表展示

4、ROM导出
操作：选择一源目录和已有的归档仓库（归档仓库不能作为目标），点击开始
开始后，形成后台任务。在任务列表展示